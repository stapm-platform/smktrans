<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>smktrans: An R Package for estimating smoking state transition probabilities from cross-sectional survey data ‚Ä¢ smktrans</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="favicon-96x96.png">
<link rel="icon" type="‚Äùimage/svg+xml‚Äù" href="favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
<link rel="icon" sizes="any" href="favicon.ico">
<link rel="manifest" href="site.webmanifest">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><link href="extra.css" rel="stylesheet">
<meta property="og:title" content="smktrans: An R Package for estimating smoking state transition probabilities from cross-sectional survey data">
<meta name="description" content="Estimates the probabilities that individuals will initiate, quit or relapse to regular cigarette smoking from cross-sectional survey data.">
<meta property="og:description" content="Estimates the probabilities that individuals will initiate, quit or relapse to regular cigarette smoking from cross-sectional survey data.">
<meta property="og:image" content="https://stapm-platform.github.io/smktrans/logo.png">
<!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-167990045-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-167990045-1');
</script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,700&amp;display=swap">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">smktrans</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.6.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="articles/smktrans.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Functions</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><h6 class="dropdown-header" data-toc-skip>Regional Estimates</h6></li>
    <li><a class="dropdown-item" href="articles/report_england.html">England Report</a></li>
    <li><a class="dropdown-item" href="articles/report_scotland.html">Scotland Report</a></li>
    <li><a class="dropdown-item" href="articles/report_wales.html">Wales Report</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Technical documentation</h6></li>
    <li><a class="dropdown-item" href="articles/smk_trans_prob_estimation.html">Estimation workflow</a></li>
    <li><a class="dropdown-item" href="articles/smoking_transition_probabilities_modelling_report.pdf">Methods notes: Smoking state transition probability estimation</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/stapm-platform/smktrans" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="smktrans-">smktrans <a class="anchor" aria-label="anchor" href="#smktrans-"></a>
</h1>
</div>
<div class="section level3">
<h3 id="an-r-package-and-workflow-for-estimating-smoking-state-transition-probabilities">An R Package and Workflow for estimating smoking state transition probabilities<a class="anchor" aria-label="anchor" href="#an-r-package-and-workflow-for-estimating-smoking-state-transition-probabilities"></a>
</h3>
<p><a href="https://www.repostatus.org/#active" class="external-link"><img src="https://www.repostatus.org/badges/latest/active.svg" alt="Project Status: Active ‚Äì The project has reached a stable, usable state and is being actively developed."></a> <a href="https://www.tidyverse.org/lifecycle/#maturing" class="external-link"><img src="https://img.shields.io/badge/lifecycle-maturing-blue.svg" alt="Lifecycle: maturing"></a> <a href="https://doi.org/10.17605/OSF.IO/YGXQ9" class="external-link"><img src="https://img.shields.io/badge/doi-10.17605/OSF.IO/YGXQ9-green.svg"></a></p>
<hr>
</div>
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p><strong>smktrans</strong> is an estimation workflow structured as an R package. It serves two purposes:</p>
<ol style="list-style-type: decimal">
<li><p><strong>Toolbox:</strong> It provides a set of R functions to estimate transition probabilities among current, former, and never smoking states (initiation, quitting, and relapse) from repeat cross-sectional survey data.</p></li>
<li><p><strong>Workflow:</strong> It contains the specific analytical workflow used to produce the official estimates for the Sheffield Tobacco Policy Model (STPM).</p></li>
</ol>
<p>This package is part of the <a href="https://stapm-platform.github.io/" class="external-link">Sheffield Tobacco and Alcohol Policy Modelling (STAPM) platform</a>.</p>
<hr>
</div>
<div class="section level2">
<h2 id="why-use-this-package">Why use this package?<a class="anchor" aria-label="anchor" href="#why-use-this-package"></a>
</h2>
<p>smktrans solves the ‚Äúmissing data‚Äù problem in dynamic tobacco modelling:</p>
<p>Cohort Reconstruction: Converts snapshot survey data into longitudinal histories to estimate initiation rates.</p>
<p>The ‚ÄúQuit Solver‚Äù: Calculates quit rates (which are notoriously hard to measure directly from survey prevalence alone) by solving the flow equation: Change in Prevalence = Initiation + Relapse - Quitting - Mortality.</p>
<p>Forecasting: Projects these rates into the future (e.g., to 2100) to support long-term policy impact assessments.</p>
<hr>
</div>
<div class="section level2">
<h2 id="package-structure">Package Structure<a class="anchor" aria-label="anchor" href="#package-structure"></a>
</h2>
<p>While <code>smktrans</code> can be installed and used like a standard R package, it is designed to encompass both the tools <em>and</em> the analysis.</p>
<p>The estimates produced by this workflow are probabilities of <strong>smoking initiation</strong>, <strong>quitting</strong>, and <strong>relapse</strong>, stratified by: * Age * Period * Sex * Index of Multiple Deprivation (IMD) quintiles</p>
<div class="section level3">
<h3 id="open-science--estimates">Open Science &amp; Estimates<a class="anchor" aria-label="anchor" href="#open-science--estimates"></a>
</h3>
<p>We have made this code open source to ensure transparency, share methodology, and allow others to utilize our pre-calculated estimates for England, Scotland and Wales <a href="https://osf.io/zy9q8" class="external-link">Download via OSF</a></p>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="id_-installation">üõ† Installation<a class="anchor" aria-label="anchor" href="#id_-installation"></a>
</h2>
<p><code>smktrans</code> relies on several internal STAPM packages (e.g.¬†<code>hseclean</code>, <code>tobalcepi</code>, <code>mort.tools</code>). You can install the package directly from GitHub. (to be honest, we‚Äôve never had anyone other than the internal STAPM team use the package, so it has not been tested outside of our team environment)</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span></span>
<span><span class="co"># 1. Install dependencies</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_git.html" class="external-link">install_git</a></span><span class="op">(</span><span class="st">"[https://github.com/stapm/hseclean.git](https://github.com/stapm-platform/hseclean.git)"</span>, build_vignettes <span class="op">=</span> <span class="cn">FALSE</span>, quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_git.html" class="external-link">install_git</a></span><span class="op">(</span><span class="st">"[https://github.com/stapm/tobalcepi.git](https://github.com/stapm-platform/tobalcepi.git)"</span>, build_vignettes <span class="op">=</span> <span class="cn">FALSE</span>, quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_git.html" class="external-link">install_git</a></span><span class="op">(</span><span class="st">"[https://github.com/stapm/mort.tools.git](https://github.com/stapm-platform/mort.tools.git)"</span>, build_vignettes <span class="op">=</span> <span class="cn">FALSE</span>, quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 2. Install smktrans</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_git.html" class="external-link">install_git</a></span><span class="op">(</span><span class="st">"[https://github.com/stapm-platform/smktrans.git](https://github.com/stapm-platform/smktrans.git)"</span>, build_vignettes <span class="op">=</span> <span class="cn">FALSE</span>, quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/stapm-platform/smktrans/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/stapm-platform/smktrans/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>GPL (&gt;= 3)</small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing smktrans</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://sheffield.ac.uk/smph/duncan-gillespie" class="external-link">Duncan Gillespie</a> <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0003-3450-5747" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li>Laura Webster <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0002-4307-9631" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li>Grace Leeming <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0003-4836-7840" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li>Magdalena Opazo-Breton <br><small class="roles"> Author </small>   </li>
<li>
<a href="https://sheffield.ac.uk/smph/people/academic/population-health/alan-brennan" class="external-link">Alan Brennan</a> <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0002-1025-312X" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://sheffield.ac.uk/smph/duncan-gillespie" class="external-link">Duncan Gillespie</a>, Laura Webster, Grace Leeming, Magdalena Opazo-Breton, <a href="https://sheffield.ac.uk/smph/people/academic/population-health/alan-brennan" class="external-link">Alan Brennan</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
